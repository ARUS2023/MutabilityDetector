<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_25) on Sun Jan 27 23:08:11 GMT 2013 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
MutabilityAssert (MutabilityDetector 0.10-SNAPSHOT API)
</TITLE>

<META NAME="date" CONTENT="2013-01-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MutabilityAssert (MutabilityDetector 0.10-SNAPSHOT API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MutabilityAssert.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html" title="class in org.mutabilitydetector.unittesting"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAsserter.html" title="class in org.mutabilitydetector.unittesting"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/mutabilitydetector/unittesting/MutabilityAssert.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MutabilityAssert.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.mutabilitydetector.unittesting</FONT>
<BR>
Class MutabilityAssert</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>org.mutabilitydetector.unittesting.MutabilityAssert</B>
</PRE>
<HR>
<DL>
<DT><PRE>public final class <B>MutabilityAssert</B><DT>extends <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
<h1>Mutability Detector</h1>
 <p>
 <i>Mutability Detector allows you to write a unit test that checks your
 classes are immutable.</i>
 </p>
 <h1>Help Guide</h2>
 <h2>Contents</h2>
 <ol>
 <li>Preamble
 <ul>
 <li><a href="#AboutHelpGuide">About this help guide</a></li>
 <li><a href="#AboutExamples">About these examples</a></li>
 </ul>
 </li>
 <li><a href="#FirstTestCase">Your first test case.</a></li>
 <li><a href="#ConfiguringTheAssertion">A more specific assertion</a></li>
 <li><a href="#AllowingAReason">Allowing a reason for mutability</a></li>
 <ul>
 <li><a href="#OutOfTheBox">Out-of-the-box Allowed Reasons</a>
 <ul>
 <li><a href="#AllowingAbstractImmutable">Abstract immutable
 implementations</a></li>
 <li><a href="#AllowingAbstractImmutableFields">Assigning abstract immutable
 fields</a></li>
 <li><a href="#AllowingNonFinalFields">Non-final fields</a></li>
 <li><a href="#FieldAssumptions_UnmodifiableCopy">Safely copying into
 collection field</a></li>
 <li><a href="#FieldAssumptions_NotModfied">Mutable field never modified</a></li>
 <li><a href="#FieldAssumptions_Caching">Caching values internally</a></li>
 </ul>
 </li>
 <li><a href="#WritingAnAllowedReason">Writing your own allowed reason</a></li>
 </ul>
 </li>
 <li><a href="#HardcodingResults">Hardcoding analysis results</a>
 <ul>
 <li><a href="#WhyHardcodeResults">Why hardcode results?</a></li>
 <li><a href="#DifferentAsserter">Creating your own asserter</a></li>
 <li><a href="#AddingHarcodedResults">Adding hardcoded results</a></li>
 <li><a href="#TestHardcodedDirectly">Testing class with hardcoded result</a></li>
 </ul>
 </li>
 </ol>
 
 
 
 
 <h4 id="AboutHelpGuide">About this help guide</h4>
 <p>
 The help contents here are also available on the <a href=
 "http://mutabilitydetector.github.com/MutabilityDetector/mvn-site/apidocs/org/mutabilitydetector/unittesting/MutabilityAssert.html"
 >project's JavaDoc</a>.
 </p>
 This style of documentation is used as it provides content suitable for a web
 page and for offline use in the JavaDoc viewer of your favourite IDE. It has
 been <strike>shamelessly stolen from</strike> inspired by the Mockito
 project, thanks guys.
 
 <h4 id="AboutExamples">About these examples</h4> I am assuming JUnit as the
 unit testing library. However, Mutability Detector should work with any unit
 testing library that uses the exception mechanism for their assertions, such
 as TestNG. If Mutability Detector is incompatible with your favourite testing
 library, please get in touch, and we'll see what we can do about that.
 
 <h3 id="FirstTestCase">Your first test case.</h3>
 
 The most simple assertion you can make will look something like this:
 
 <pre>
 <code>
 import static org.mutabilitydetector.unittesting.MutabilityAssert.assertImmutable;
 
 &#064;Test public void checkMyClassIsImmutable() {
     assertImmutable(MyClass.class); 
 }
 </code>
 </pre>
 
 <p>
 This assertion will trigger an analysis of <code>MyClass</code>, passing if
 found to be immutable, failing if found to be mutable.
 </p>
 
 
 <h3 id="ConfiguringTheAssertion">Configuring the assertion</h3>
 <p>
 The method used above is a shortcut for more expressive forms of the
 assertion, and does not allow any further configuration. An equivalent
 assertion is:
 </p>
 
 <pre>
 <code>
 import static org.mutabilitydetector.unittesting.MutabilityAssert.assertInstancesOf;
 import static org.mutabilitydetector.unittesting.MutabilityMatchers.areImmutable;
 
 &#064;Test public void checkMyClassIsImmutable() {
     assertInstancesOf(MyClass.class, areImmutable()); 
 }</code>
 </pre>
 
 
 This is the form that can be used for extra configuration of the assertion.
 Let's take a look at an assertion that is configured differently. Consider a
 class which is immutable, except for fields not being declared
 <code>final</code>. According to <a href="http://jcip.net/">Java Concurrency
 In Practice</a>, instances of classes like this, as long as they are
 <i>safely publised</i> are still considered <i>effectively immutable</i>.
 Please note however, Mutability Detector does not check that objects are
 safely published. <br />
 To represent this in a unit test, the assertion would like this:
 
 <pre>
 <code>
 import static org.mutabilitydetector.unittesting.MutabilityAssert.assertInstancesOf;
 import static org.mutabilitydetector.unittesting.MutabilityMatchers.areEffectivelyImmutable;
 import static org.mutabilitydetector.unittesting.AllowedReason.allowingNonFinalFields;
 
 &#064;Test public void checkMyClassIsImmutable() {
     assertInstancesOf(MyClassWhereTheFieldsAreNotFinal.class, 
                       areEffectivelyImmutable(),
                       allowingNonFinalFields());
 }</code>
 </pre>
 
 See also:
 <ul>
 <li><A HREF="../../../org/mutabilitydetector/IsImmutable.html#EFFECTIVELY_IMMUTABLE"><CODE>IsImmutable.EFFECTIVELY_IMMUTABLE</CODE></A></li>
 </ul>
 
 <p>
 The second parameter to the method
 <A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAssert.html#assertInstancesOf(java.lang.Class, org.hamcrest.Matcher)"><CODE>assertInstancesOf(Class, Matcher)</CODE></A> is a
 <code>Matcher&lt;AnalysisResult&gt;</code>, where <code>Matcher</code> is a
 <a href="http://code.google.com/p/hamcrest/">hamcrest matcher</a>, and
 <A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector"><CODE>AnalysisResult</CODE></A> is provided by Mutability Detector to represent the
 result of the static analysis performed on the given class. This means, if
 none of the out-of-the-box matchers are quite right for your scenario, you
 can supply your own. Your implementation of <CODE>Matcher.matches(Object)</CODE>
 should return true for a test pass, false for a test failure.
 </p>
 
 
 <h3 id="AllowingAReason">Allowing a reason</h3>
 There can also be cases where your class is found to be mutable, but you know
 for your scenario that it's an acceptable reason. Consider the following
 class:
 
 <pre>
 <code>public abstract class AbstractIntHolder {
   private final int intField;
   
   public AbstractIntHolder(int intToStore) {
     this.intField = intToStore;
   }
 }</code>
 </pre>
 
 <p>
 In this case, if you assert <code>AbstractIntHolder</code> is immutable, the
 test will fail. This is because AbstractIntHolder can be subclassed, which
 means clients of this class, who for example, accept parameters of this type
 and store them to fields, cannot depend on receiving a concrete, immutable
 object. If, in your code, you know that all subclasses will also be immutable
 (hopefully you have tests for them too) then you can say that it is okay that
 this class can be subclassed, because you know all subclasses are immutable
 as well.
 </p>
 <p>
 Given such a scenario, the way to get your test to pass, and still provide a
 check that the class doesn't become mutable by some other cause, is to
 <i>allow a reason</i> for mutability. An example of allowing said reason for
 <code>AbstractIntHolder</code> could look like this:
 </p>
 
 <pre>
 <code>
 import static org.mutabilitydetector.unittesting.MutabilityAssert.assertInstancesOf;
 import static org.mutabilitydetector.unittesting.MutabilityMatchers.areEffectivelyImmutable;
 import static org.mutabilitydetector.unittesting.AllowedReason.allowingForSubclassing;
 
 &#064;Test public void checkMyClassIsImmutable() {
     assertInstancesOf(AbstractIntHolder.class, areImmutable(), allowingForSubclassing());
 }
 </code>
 </pre>
 
 This will allow your test to pass, but fail for any other reasons that are
 introduced, e.g. if someone adds a setter method.
 
 <p>
 Similar to the <code>Matcher&ltAnalysisResult&gt;</code> parameter, the
 allowed reason parameter of
 <A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAssert.html#assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, org.hamcrest.Matcher)"><CODE>assertInstancesOf(Class, Matcher, Matcher)</CODE></A> is a
 <code>Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector"><CODE>MutableReasonDetail</CODE></A>&gt;</code>. Mutability Detector
 will provide only a few out-of-the-box implementations for this, which are
 unlikely to cover each scenario where you want to permit a certain aspect of
 mutability.
 </p>
 <h3 id="OutOfTheBox">Out-of-the-box allowed reasons</h3>
 <p>
 <h4 id="AllowingAbstractImmutable">Abstract class with immutable
 implementation</h4>
 It can be useful to write an abstract class, designed for extension, which is
 immutable. To ensure that a concrete class B, extending abstract class A is
 immutable, it is necessary to test that both <code>A</code> and
 <code>B</code> are immutable. However, if you write the assertion
 <code>assertImmutable(A.class);</code>, it will fail, as it can be subclassed
 (see <A HREF="../../../org/mutabilitydetector/MutabilityReason.html#CAN_BE_SUBCLASSED"><CODE>MutabilityReason.CAN_BE_SUBCLASSED</CODE></A>). To specifically allow this,
 use the allowed reason: <A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html#allowingForSubclassing()"><CODE>AllowedReason.allowingForSubclassing()</CODE></A> <br>
 <br>
 For example:<br>
 <code>assertInstancesOf(A.class, areImmutable(), allowingForSubclassing());</code>
 
 <h4 id="AllowingAbstractImmutableFields">Depending on other classes being
 immutable</h4>
 Consider the following code: <code>
 <pre>
 public final class MyImmutable {
  public final ShouldAlsoBeImmutable field;
  
  public MyImmutable(ShouldAlsoBeImmutable dependsOnThisBeingImmutable) {
      this.field = dependsOnThisBeingImmutable;
  }
 }
 </pre>
 <code>
 
 If <code>ShouldAlsoBeImmutable</code> is not a concrete class (an
 <code>interface</code> or <code>abstract</code> class),
 <code>assertImmutable(MyImmutable.class);</code> will fail, as there's no
 guarantee that the runtime implementation of <code>ShouldBeImmutable</code>
 is actually immutable. A common example is taking a parameter of
 <code>java.util.List</code>, where you require that it is an immutable
 implementation, e.g: a copy created with
 <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html?is-external=true#unmodifiableList(java.util.List)" title="class or interface in java.util"><CODE>Collections.unmodifiableList(List)</CODE></A>. For this scenario, use
 <A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html#provided(java.lang.Class)"><CODE>AllowedReason.provided(Class)</CODE></A>.
 
 To make the above example pass, use an allowed reason like so:<br>
 <br>
 
 <pre>
 <code>
 assertInstancesOf(MyImmutable.class, 
                   areImmutable(),
                   AllowedReason.provided(ShouldAlsoBeImmutable.class).isAlsoImmutable()); 
 </code>
 </pre>
 
 </p>
 
 <h4 id="AllowingNonFinalFields">Non-final fields</h3> If you have fields
 which are neither mutated nor reassigned, you can suppress warnings about
 them not being declared as final. Since the non-final field warning relates
 to visibility in the Java Memory Model, and there are other ways to guarantee
 visibility (e.g. assigning before a volatile write) it may be desirable.
 Consider the following class:
 
 <pre>
 <code>
 public final class NonFinalField {
     private String myField;
     
     public NonFinalField(String myField) {
         this.myField = myField;
     }
     
     public String getMyField() {
         return myField;
     }
 }
 </code>
 </pre>
 
 This can be made to pass by allowing non-final fields, like so:
 
 <pre>
 <code>
 assertInstancesOf(NonFinalField.class, 
                   areImmutable(),
                   AllowedReason.allowingNonFinalFields());
 </code>
 </pre>
 
 <h4 id="FieldAssumptions_UnmodifiableCopy">Safely copying into collection
 field</h4>
 Fields of collection types are normally interfaces (e.g. List, Set,
 Iterable), and assigning these types to a field will result in a warning.
 Mutability Detector has support for recognising the pattern of copying and
 wrapping in an unmodifiable collection, however, it is limited to types and
 methods from the standard JDK. Consider the following class:
 
 <pre>
 <code>
 import java.util.List;
 
 public final class HasCollectionField {
     private final List&lt;String&gt; myStrings;
     
     public HasCollectionField(List&lt;String&gt; strings) {
         List&lt;String&gt; copy = copyIntoNewList(strings);
         List&lt;String&gt; unmodifiable = wrapWithUnmodifiable(strings);
         this.myStrings = unmodifiable;
     }
 }
 </code>
 </pre>
 
 In this case we safely copy the list (<code>copyIntoNewList</code>) and the
 copy is then wrapped in an unmodifiable list that will prevent mutation (
 <code>wrapWithUnmodifiable</code>). However, since Mutability Detector is
 unaware of these two methods, it will conclude that a mutable
 <code>List</code> type has been assigned to the private field.
 <p>
 This can be made to pass with the following:
 
 <pre>
 <code>
 assertInstancesOf(HasCollectionField.class, 
                   areImmutable(),
                   AllowedReason.assumingFields("myStrings").areSafelyCopiedUnmodifiableCollectionsWithImmutableElements());
 </code>
 </pre>
 
 This also assumes that the collection contains only immutable elements, and
 will suppress warnings generated when, for example, the field is a
 <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util"><CODE>List</CODE></A> of mutable <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util"><CODE>Date</CODE></A>s.
 
 <h4 id="FieldAssumptions_NotModfied">Mutable field never modified</h4>
 While it is absolutely possible to build an immutable object with mutable
 fields, Mutability Detector errs on the side of caution. Thus, your class
 could have a field of a mutable type, which neither escapes, nor is mutated
 by the owning class, but still fails a test for immutability.
 
 Consider the following class:
 
 <pre>
 <code>
 import java.util.Date;
 
 public final class HasDateField {
     private final Date myDate;
     
     public HasDateField(Date date) {
         this.myDate = new Date(date.getTime());
     }
     
     public Date getDate() {
         return new Date(myDate.getTime());
     }
 }
 </pre>
 
 </code>
 
 A test for this class fails because the field <code>myDate</code> is a
 mutable type. This can be made to pass with the following:
 
 <pre>
 <code>
 assertInstancesOf(HasDateField.class,
                   areImmutable(),
                   AllowedReason.assumingFields("myDate").areNotModifiedAndDoNotEscape());
 </code>
 </pre>
 
 <h4 id="FieldAssumptions_Caching">Caching values internally</h4>
 As with <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><CODE>String</CODE></A>, it is possible to reassign fields or mutate internal
 state and still be immutable. As long as callers cannot observe the change
 the class can be deemed immutable.
 
 Consider the following class:
 
 <pre>
 <code>
 public final class MutatesAsInternalCaching {
     private final String myString;
     private final String otherString;
     private int lengthWhenConcatenated;
     public MutatesAsInternalCaching(String myString, String otherString) {
         this.myString = myString;
         this.otherString = otherString;
     }
     
     public int getConcatenatedLength() {
         if (lengthWhenConcatenated == 0) {
             lengthWhenConcatenated = myString.concat(otherString).length();
         }
         return lengthWhenConcatenated;
     }
 }
 </code>
 </pre>
 
 Here, the field <code>lengthWhenConcatenated</code> is computed lazily. While
 there is a field reassignment, which is a mutation, callers will never
 perceive the mutation, as the calculation is done on the first request. Even
 in a multithreaded environment, this is safe, and will result in no
 observable mutation. Since the result is computed from other immutable
 values, if multiple threads hit the race condition of seeing an empty value
 while another thread is computing the result, the field will always be set to
 the same value. Multiple assignments will appear as exactly one assignment,
 just as with a final field.
 <p>
 This is called a 'benign data race', and exists in <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><CODE>String</CODE></A>, with its
 <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang"><CODE>Object.hashCode()</CODE></A> method.
 <p>
 <b>WARNING: This technique should be used with care, as it is very easy to get
 wrong.</b>
 <p>
 To allow this in tests, use an assertion like the following:
 
 <pre>
 <code>
 assertInstancesOf(MutatesAsInternalCaching.class,
                   areImmutable(),
                   AllowedReason.assumingFields("lengthWhenConcatenated").areModifiedAsPartOfAnUnobservableCachingStrategy());
 </code>
 </pre>
 
 This will also allow the use of mutable types and collections, not just
 reassignments of primitive fields. Thus populating an array or collection for
 future caching should also be allowed with this matcher.
 
 <h3 id="WritingAnAllowedReason">Writing your own allowed reasons</h3>
 <p>
 If none of the out-of-the-box allowed reasons suit your needs, it is possible
 to supply your own implementation. The allowed reason in the signature of
 <A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAssert.html#assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, org.hamcrest.Matcher)"><CODE>assertInstancesOf(Class, Matcher, Matcher)</CODE></A> is a
 Hamcrest <code>Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector"><CODE>MutableReasonDetail</CODE></A>&gt;</code>. For a
 mutable class to pass the test, each <A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector"><CODE>MutableReasonDetail</CODE></A> of the
 <A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector"><CODE>AnalysisResult</CODE></A> (provided by Mutability Detector) must be matched by
 at least one allowed reason.
 </p>
 
 
 <h3 id="HardcodingResults">Configuring MutabilityAssert to use Hardcoded
 Results</h3>
 
 As of version 0.9, Mutability Detector uses a predefined list of hardcoded
 results, in order to improve the accuracy of the analysis. For example, prior
 to 0.9, java.lang.String was <a
 href="https://github.com/MutabilityDetector/MutabilityDetector/issues/4"
 >considered to be mutable</a>. The out of the box hardcoded results includes
 a non-exhaustive list of immutable classes from the standard JDK.
 
 See also:
 <ul>
 <li><A HREF="../../../org/mutabilitydetector/Configurations.html#JDK_CONFIGURATION"><CODE>Configurations.JDK_CONFIGURATION</CODE></A></li>
 </ul>
 
 <p>
 
 If you have found that Mutability Detector is unable to correctly analyse one
 of your classes, or a class in a library you use, you may wish to add your
 class to the list of predefined results. Follow these steps to choose your
 own predefined list.
 
 <h4 id="WhyHardcodeResults">Why Would You Want To Hardcode Results?</h4>
 
 Imagine a couple of classes like this:
 <p>
 
 <pre>
 <code>
 &#064;Immutable 
 public final class ActuallyImmutable { 
   // is immutable, but like java.lang.String, is incorrectly
   // called mutable. 
 }
 
 &#064;Immutable 
 public final class UsesActuallyImmutable { 
   public final ActuallyImmutable myImmutableField = ...; 
 }
 
 // in a test case
 MutabilityAssert.assertImmutable(UsesActuallyImmutable.class); // this test fails
 </code>
 </pre>
 
 Because there's an error in the analysis of <code>ActuallyImmutable</code>,
 this "taints" <code>UsesActuallyImmutable</code>, which will also be
 considered mutable. Because of the transitive nature of a false positive,
 this can cause Mutability Detector to think that entire object graphs are
 mutable when they're not. Hardcoding your own results is a way to overcome
 incorrect analysis.
 
 <h4 id="DifferentAsserter">Using A Different Asserter</h4>
 
 To be able to hardcode results, you need your own instance of
 <A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAsserter.html" title="class in org.mutabilitydetector.unittesting"><CODE>MutabilityAsserter</CODE></A>. Normally assertions are made using the class
 <A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAssert.html" title="class in org.mutabilitydetector.unittesting"><CODE>MutabilityAssert</CODE></A>. To choose different options from this class, you
 must create and make available your own asserter with its own configuration.
 Do this by constructing an instance of MutabilityAssert, like so:
 
 <pre>
 <code>
 public class SomeClassAccessibleByMyTests { 
   public static final MutabilityAsserter MUTABILITY = MutabilityAsserter.configured(...); 
 } </code>
 </pre>
 
 This allows your test case to have an assertion like:
 
 <pre>
 <code>// in a test case 
 MUTABILITY.assertImmutable(MyClass.class);
 </pre>
 
 </code>
 
 <h4 id="AddingHarcodedResults">Hardcoding Analysis Results</h4>
 
 Notice in the above example, the parameters given to the
 <code>MutabilityAssert.configured()</code> method are not shown. The
 parameter, of type <A HREF="../../../org/mutabilitydetector/Configuration.html" title="interface in org.mutabilitydetector"><CODE>Configuration</CODE></A>, is what will contain your hardcoded
 results. In the following example, To overcome this, instantiate
 MutabilityAsserter like this:
 
 <pre>
 <code>
 // as a field 
 MutabilityAsserter MUTABILITY = MutabilityAsserter.configured(new ConfigurationBuilder() { 
   &#064;Override public void configure() {
     hardcodeAsDefinitelyImmutable(ActuallyImmutable.class); 
   }
 });
 
 // in a test case 
 MUTABILITY.assertImmutable(UsesActuallyImmutable.class); // this now passes
 </code>
 </pre>
 
 Now classes which transitively depend on <code>ActuallyImmutable</code> being
 correctly analysed will not result in false positive results.
 
 <h4 id="TestHardcodedDirectly">Testing Hardcoded Classes Directly</h4>
 
 Using the configuration from above, if we have the assertion:
 
 <pre>
 <code>MUTABILITY.assertImmutable(ActuallyImmutable.class);</code>
 </pre>
 
 The test case will fail. Even though it's hardcoded, if you test it directly,
 the result will reflect the real analysis. This is a deliberate choice, to
 alert you to the possibility that your choice to hardcode a result may no
 longer be valid. In this case you will want to write a an assertion which
 allows the specific reasons for failure. You can still use the same asserter
 you previously created for this, e.g.:
 
 <pre>
 <code>
 MUTABILITY.assertInstancesOf(ActuallyImmutable.class, 
                              areImmutable(), 
                              // configure your "allowed reasons" here 
                              );</code>
 </pre>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Graham Allan / Grundlefleck at gmail dot com</DD>
<DT><B>See Also:</B><DD><A HREF="../../../org/mutabilitydetector/unittesting/MutabilityMatchers.html" title="class in org.mutabilitydetector.unittesting"><CODE>MutabilityMatchers</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html" title="class in org.mutabilitydetector.unittesting"><CODE>AllowedReason</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector"><CODE>AnalysisResult</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector"><CODE>MutableReasonDetail</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/IsImmutable.html" title="enum in org.mutabilitydetector"><CODE>IsImmutable</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/Configuration.html" title="interface in org.mutabilitydetector"><CODE>Configuration</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/Configurations.html#OUT_OF_THE_BOX_CONFIGURATION"><CODE>Configurations.OUT_OF_THE_BOX_CONFIGURATION</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/ConfigurationBuilder.html" title="class in org.mutabilitydetector"><CODE>ConfigurationBuilder</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/MutabilityReason.html" title="enum in org.mutabilitydetector"><CODE>MutabilityReason</CODE></A></DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAssert.html#assertImmutable(java.lang.Class)">assertImmutable</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;expectedImmutableClass)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks that the given class is immutable, or fails with an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang"><CODE>AssertionError</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAssert.html#assertInstancesOf(java.lang.Class, org.hamcrest.Matcher)">assertInstancesOf</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;clazz,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector">AnalysisResult</A>&gt;&nbsp;mutabilityMatcher)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks that the result of analysis satisfies the given <CODE>Matcher</CODE>,
 or fails with an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang"><CODE>AssertionError</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAssert.html#assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, java.lang.Iterable)">assertInstancesOf</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;clazz,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector">AnalysisResult</A>&gt;&nbsp;mutabilityMatcher,
                  <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</A>&lt;org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&gt;&nbsp;allowingAll)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks that the result of analysis satisfies the given <CODE>Matcher</CODE>,
 while allowing mismatches in the form of allowed reasons, or fails with
 an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang"><CODE>AssertionError</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAssert.html#assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, org.hamcrest.Matcher)">assertInstancesOf</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;clazz,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector">AnalysisResult</A>&gt;&nbsp;mutabilityMatcher,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowing)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks that the result of analysis satisfies the given <CODE>Matcher</CODE>,
 while allowing mismatches in the form of an allowed reason, or fails with
 an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang"><CODE>AssertionError</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAssert.html#assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, org.hamcrest.Matcher, org.hamcrest.Matcher)">assertInstancesOf</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;clazz,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector">AnalysisResult</A>&gt;&nbsp;mutabilityMatcher,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingFirst,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingSecond)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks that the result of analysis satisfies the given <CODE>Matcher</CODE>,
 while allowing mismatches in the form of allowed reasons, or fails with
 an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang"><CODE>AssertionError</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAssert.html#assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, org.hamcrest.Matcher, org.hamcrest.Matcher, org.hamcrest.Matcher)">assertInstancesOf</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;clazz,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector">AnalysisResult</A>&gt;&nbsp;mutabilityMatcher,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingFirst,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingSecond,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingThird)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks that the result of analysis satisfies the given <CODE>Matcher</CODE>,
 while allowing mismatches in the form of allowed reasons, or fails with
 an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang"><CODE>AssertionError</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAssert.html#assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, org.hamcrest.Matcher, org.hamcrest.Matcher, org.hamcrest.Matcher, org.hamcrest.Matcher...)">assertInstancesOf</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;clazz,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector">AnalysisResult</A>&gt;&nbsp;mutabilityMatcher,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingFirst,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingSecond,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingThird,
                  org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;...&nbsp;allowingRest)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks that the result of analysis satisfies the given <CODE>Matcher</CODE>,
 while allowing mismatches in the form of allowed reasons, or fails with
 an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang"><CODE>AssertionError</CODE></A>.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="assertImmutable(java.lang.Class)"><!-- --></A><H3>
assertImmutable</H3>
<PRE>
public static void <B>assertImmutable</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;expectedImmutableClass)</PRE>
<DL>
<DD>Checks that the given class is immutable, or fails with an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang"><CODE>AssertionError</CODE></A>.
 <p>
 Example:
 <pre><code>
 MutabilityAssert.assertImmutable(HopefullyImmutable.class);
 </code></pre>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>expectedImmutableClass</CODE> - <DT><B>See Also:</B><DD><A HREF="../../../org/mutabilitydetector/IsImmutable.html#IMMUTABLE"><CODE>IsImmutable.IMMUTABLE</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="assertInstancesOf(java.lang.Class, org.hamcrest.Matcher)"><!-- --></A><H3>
assertInstancesOf</H3>
<PRE>
public static void <B>assertInstancesOf</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;clazz,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector">AnalysisResult</A>&gt;&nbsp;mutabilityMatcher)</PRE>
<DL>
<DD>Checks that the result of analysis satisfies the given <CODE>Matcher</CODE>,
 or fails with an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang"><CODE>AssertionError</CODE></A>.
 <p>
 The given matcher will be invoked with the <A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector"><CODE>AnalysisResult</CODE></A>
 produced by Mutability Detector's analysis of the given class. The most
 common matchers can be found at <A HREF="../../../org/mutabilitydetector/unittesting/MutabilityMatchers.html" title="class in org.mutabilitydetector.unittesting"><CODE>MutabilityMatchers</CODE></A>.
 <p>
 Example:
 <pre><code>
 MutabilityAssert.assertImmutable(HopefullyImmutable.class, 
                                  MutabilityMatchers.areImmutable());
 
 MutabilityAssert.assertImmutable(HopefullyEffectivelyImmutable.class, 
                                  MutabilityMatchers.areEffectivelyImmutable());
 
 </code></pre>
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../org/mutabilitydetector/unittesting/MutabilityMatchers.html#areImmutable()"><CODE>MutabilityMatchers.areImmutable()</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/MutabilityMatchers.html#areEffectivelyImmutable()"><CODE>MutabilityMatchers.areEffectivelyImmutable()</CODE></A>, 
<CODE>Matcher</CODE>, 
<A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector"><CODE>AnalysisResult</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/IsImmutable.html#IMMUTABLE"><CODE>IsImmutable.IMMUTABLE</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/IsImmutable.html#EFFECTIVELY_IMMUTABLE"><CODE>IsImmutable.EFFECTIVELY_IMMUTABLE</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, org.hamcrest.Matcher)"><!-- --></A><H3>
assertInstancesOf</H3>
<PRE>
public static void <B>assertInstancesOf</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;clazz,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector">AnalysisResult</A>&gt;&nbsp;mutabilityMatcher,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowing)</PRE>
<DL>
<DD>Checks that the result of analysis satisfies the given <CODE>Matcher</CODE>,
 while allowing mismatches in the form of an allowed reason, or fails with
 an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang"><CODE>AssertionError</CODE></A>.
 <p>
 The given matcher will be invoked with the <A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector"><CODE>AnalysisResult</CODE></A>
 produced by Mutability Detector's analysis of the given class. The most
 common matchers can be found at <A HREF="../../../org/mutabilitydetector/unittesting/MutabilityMatchers.html" title="class in org.mutabilitydetector.unittesting"><CODE>MutabilityMatchers</CODE></A>.
 <p>
 The given allowed reason will be used to determine if any of the
 <A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector"><CODE>MutableReasonDetail</CODE></A> attached to the <A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector"><CODE>AnalysisResult</CODE></A> have
 been explicitly permitted by the unit test. If any of the reasons have
 not been allowed, an AssertionError will be thrown.
 <p>
 Several out-of-the-box allowed reasons can be found at
 <A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html" title="class in org.mutabilitydetector.unittesting"><CODE>AllowedReason</CODE></A>.
 <p>
 Example:
 
 <pre>
 <code>
 MutabilityAssert.assertImmutable(HopefullyImmutable.class, 
                                  MutabilityMatchers.areImmutable(),
                                  AllowedReason.allowingForSubclassing());
 
 
 </code>
 </pre>
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector"><CODE>MutableReasonDetail</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html" title="class in org.mutabilitydetector.unittesting"><CODE>AllowedReason</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html#allowingForSubclassing()"><CODE>AllowedReason.allowingForSubclassing()</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/MutabilityMatchers.html#areImmutable()"><CODE>MutabilityMatchers.areImmutable()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, org.hamcrest.Matcher, org.hamcrest.Matcher)"><!-- --></A><H3>
assertInstancesOf</H3>
<PRE>
public static void <B>assertInstancesOf</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;clazz,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector">AnalysisResult</A>&gt;&nbsp;mutabilityMatcher,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingFirst,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingSecond)</PRE>
<DL>
<DD>Checks that the result of analysis satisfies the given <CODE>Matcher</CODE>,
 while allowing mismatches in the form of allowed reasons, or fails with
 an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang"><CODE>AssertionError</CODE></A>.
 <p>
 The given matcher will be invoked with the <A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector"><CODE>AnalysisResult</CODE></A>
 produced by Mutability Detector's analysis of the given class. The most
 common matchers can be found at <A HREF="../../../org/mutabilitydetector/unittesting/MutabilityMatchers.html" title="class in org.mutabilitydetector.unittesting"><CODE>MutabilityMatchers</CODE></A>.
 <p>
 The given allowed reason will be used to determine if any of the
 <A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector"><CODE>MutableReasonDetail</CODE></A> attached to the <A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector"><CODE>AnalysisResult</CODE></A> have
 been explicitly permitted by the unit test. If any of the reasons have
 not been allowed, an AssertionError will be thrown.
 <p>
 Several out-of-the-box allowed reasons can be found at
 <A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html" title="class in org.mutabilitydetector.unittesting"><CODE>AllowedReason</CODE></A>.
 <p>
 Example:
 <pre>
 <code>
 MutabilityAssert.assertImmutable(HopefullyImmutable.class, 
                                  MutabilityMatchers.areImmutable(),
                                  AllowedReason.allowingForSubclassing(),
                                  AllowedReason.allowingNonFinalFields());
 </code>
 </pre>
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector"><CODE>MutableReasonDetail</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html" title="class in org.mutabilitydetector.unittesting"><CODE>AllowedReason</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html#allowingForSubclassing()"><CODE>AllowedReason.allowingForSubclassing()</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/MutabilityMatchers.html#areImmutable()"><CODE>MutabilityMatchers.areImmutable()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, org.hamcrest.Matcher, org.hamcrest.Matcher, org.hamcrest.Matcher)"><!-- --></A><H3>
assertInstancesOf</H3>
<PRE>
public static void <B>assertInstancesOf</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;clazz,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector">AnalysisResult</A>&gt;&nbsp;mutabilityMatcher,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingFirst,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingSecond,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingThird)</PRE>
<DL>
<DD>Checks that the result of analysis satisfies the given <CODE>Matcher</CODE>,
 while allowing mismatches in the form of allowed reasons, or fails with
 an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang"><CODE>AssertionError</CODE></A>.
 <p>
 Alternative version of
 <A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAssert.html#assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, org.hamcrest.Matcher)"><CODE>assertInstancesOf(Class, Matcher, Matcher)</CODE></A> which takes more
 allowed reasons.
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector"><CODE>MutableReasonDetail</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html" title="class in org.mutabilitydetector.unittesting"><CODE>AllowedReason</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html#allowingForSubclassing()"><CODE>AllowedReason.allowingForSubclassing()</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html#allowingNonFinalFields()"><CODE>AllowedReason.allowingNonFinalFields()</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/MutabilityMatchers.html#areImmutable()"><CODE>MutabilityMatchers.areImmutable()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, org.hamcrest.Matcher, org.hamcrest.Matcher, org.hamcrest.Matcher, org.hamcrest.Matcher...)"><!-- --></A><H3>
assertInstancesOf</H3>
<PRE>
public static void <B>assertInstancesOf</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;clazz,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector">AnalysisResult</A>&gt;&nbsp;mutabilityMatcher,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingFirst,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingSecond,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&nbsp;allowingThird,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;...&nbsp;allowingRest)</PRE>
<DL>
<DD>Checks that the result of analysis satisfies the given <CODE>Matcher</CODE>,
 while allowing mismatches in the form of allowed reasons, or fails with
 an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang"><CODE>AssertionError</CODE></A>.
 <p>
 Alternative version of
 <A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAssert.html#assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, org.hamcrest.Matcher)"><CODE>assertInstancesOf(Class, Matcher, Matcher)</CODE></A> which takes more
 allowed reasons.
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector"><CODE>MutableReasonDetail</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html" title="class in org.mutabilitydetector.unittesting"><CODE>AllowedReason</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html#allowingForSubclassing()"><CODE>AllowedReason.allowingForSubclassing()</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html#allowingNonFinalFields()"><CODE>AllowedReason.allowingNonFinalFields()</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/MutabilityMatchers.html#areImmutable()"><CODE>MutabilityMatchers.areImmutable()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, java.lang.Iterable)"><!-- --></A><H3>
assertInstancesOf</H3>
<PRE>
public static void <B>assertInstancesOf</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;clazz,
                                     org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/AnalysisResult.html" title="class in org.mutabilitydetector">AnalysisResult</A>&gt;&nbsp;mutabilityMatcher,
                                     <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</A>&lt;org.hamcrest.Matcher&lt;<A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;&gt;&nbsp;allowingAll)</PRE>
<DL>
<DD>Checks that the result of analysis satisfies the given <CODE>Matcher</CODE>,
 while allowing mismatches in the form of allowed reasons, or fails with
 an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang"><CODE>AssertionError</CODE></A>.
 <p>
 Alternative version of
 <A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAssert.html#assertInstancesOf(java.lang.Class, org.hamcrest.Matcher, org.hamcrest.Matcher)"><CODE>assertInstancesOf(Class, Matcher, Matcher)</CODE></A> which takes an
 iterable of allowed reasons.
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector"><CODE>MutableReasonDetail</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html" title="class in org.mutabilitydetector.unittesting"><CODE>AllowedReason</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html#allowingForSubclassing()"><CODE>AllowedReason.allowingForSubclassing()</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html#allowingNonFinalFields()"><CODE>AllowedReason.allowingNonFinalFields()</CODE></A>, 
<A HREF="../../../org/mutabilitydetector/unittesting/MutabilityMatchers.html#areImmutable()"><CODE>MutabilityMatchers.areImmutable()</CODE></A></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MutabilityAssert.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/mutabilitydetector/unittesting/AllowedReason.html" title="class in org.mutabilitydetector.unittesting"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/mutabilitydetector/unittesting/MutabilityAsserter.html" title="class in org.mutabilitydetector.unittesting"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/mutabilitydetector/unittesting/MutabilityAssert.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MutabilityAssert.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2013. All Rights Reserved.
</BODY>
</HTML>
