<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_25) on Sun Jan 27 22:58:21 GMT 2013 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
FieldAssumptions (MutabilityDetector 0.10-SNAPSHOT API)
</TITLE>

<META NAME="date" CONTENT="2013-01-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FieldAssumptions (MutabilityDetector 0.10-SNAPSHOT API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/FieldAssumptions.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/mutabilitydetector/unittesting/matchers/reasons/AssumeCopiedIntoUnmodifiable.html" title="class in org.mutabilitydetector.unittesting.matchers.reasons"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/mutabilitydetector/unittesting/matchers/reasons/NoReasonsAllowed.html" title="class in org.mutabilitydetector.unittesting.matchers.reasons"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/mutabilitydetector/unittesting/matchers/reasons/FieldAssumptions.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FieldAssumptions.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.mutabilitydetector.unittesting.matchers.reasons</FONT>
<BR>
Class FieldAssumptions</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>org.mutabilitydetector.unittesting.matchers.reasons.FieldAssumptions</B>
</PRE>
<HR>
<DL>
<DT><PRE>public final class <B>FieldAssumptions</B><DT>extends <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
Allowed reasons for mutability warnings related to fields.
 <p>
 It is expected that this class will not be used directly. Instead, use the
 factory methods provided by <A HREF="../../../../../org/mutabilitydetector/unittesting/AllowedReason.html" title="class in org.mutabilitydetector.unittesting"><CODE>AllowedReason</CODE></A> for more fluent unit tests.
 <p>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../org/mutabilitydetector/unittesting/AllowedReason.html#assumingFields(java.lang.Iterable)"><CODE>AllowedReason.assumingFields(Iterable)</CODE></A>, 
<A HREF="../../../../../org/mutabilitydetector/unittesting/AllowedReason.html#assumingFields(java.lang.String, java.lang.String...)"><CODE>AllowedReason.assumingFields(String, String...)</CODE></A></DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.hamcrest.Matcher&lt;<A HREF="../../../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/mutabilitydetector/unittesting/matchers/reasons/FieldAssumptions.html#areModifiedAsPartOfAnUnobservableCachingStrategy()">areModifiedAsPartOfAnUnobservableCachingStrategy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insists that while a field may have been mutated, changes will not be
 observable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.hamcrest.Matcher&lt;<A HREF="../../../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/mutabilitydetector/unittesting/matchers/reasons/FieldAssumptions.html#areNotModifiedAndDoNotEscape()">areNotModifiedAndDoNotEscape</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insists that a mutable field is used safely.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.hamcrest.Matcher&lt;<A HREF="../../../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/mutabilitydetector/unittesting/matchers/reasons/FieldAssumptions.html#areSafelyCopiedUnmodifiableCollectionsWithImmutableElements()">areSafelyCopiedUnmodifiableCollectionsWithImmutableElements</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insists fields of collection types are copied and wrapped safely.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../org/mutabilitydetector/unittesting/matchers/reasons/FieldAssumptions.html" title="class in org.mutabilitydetector.unittesting.matchers.reasons">FieldAssumptions</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/mutabilitydetector/unittesting/matchers/reasons/FieldAssumptions.html#named(java.lang.Iterable)">named</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;fieldNames)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Advice: use the factory method
 <A HREF="../../../../../org/mutabilitydetector/unittesting/AllowedReason.html#assumingFields(java.lang.String, java.lang.String...)"><CODE>AllowedReason.assumingFields(String, String...)</CODE></A> for greater
 readability.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../org/mutabilitydetector/unittesting/matchers/reasons/FieldAssumptions.html" title="class in org.mutabilitydetector.unittesting.matchers.reasons">FieldAssumptions</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/mutabilitydetector/unittesting/matchers/reasons/FieldAssumptions.html#named(java.lang.String, java.lang.String...)">named</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;firstFieldName,
      <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>...&nbsp;otherFieldNames)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Advice: use the factory method
 <A HREF="../../../../../org/mutabilitydetector/unittesting/AllowedReason.html#assumingFields(java.lang.String, java.lang.String...)"><CODE>AllowedReason.assumingFields(String, String...)</CODE></A> for greater
 readability.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="named(java.lang.String, java.lang.String...)"><!-- --></A><H3>
named</H3>
<PRE>
public static <A HREF="../../../../../org/mutabilitydetector/unittesting/matchers/reasons/FieldAssumptions.html" title="class in org.mutabilitydetector.unittesting.matchers.reasons">FieldAssumptions</A> <B>named</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;firstFieldName,
                                     <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>...&nbsp;otherFieldNames)</PRE>
<DL>
<DD>Advice: use the factory method
 <A HREF="../../../../../org/mutabilitydetector/unittesting/AllowedReason.html#assumingFields(java.lang.String, java.lang.String...)"><CODE>AllowedReason.assumingFields(String, String...)</CODE></A> for greater
 readability.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="named(java.lang.Iterable)"><!-- --></A><H3>
named</H3>
<PRE>
public static <A HREF="../../../../../org/mutabilitydetector/unittesting/matchers/reasons/FieldAssumptions.html" title="class in org.mutabilitydetector.unittesting.matchers.reasons">FieldAssumptions</A> <B>named</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;fieldNames)</PRE>
<DL>
<DD>Advice: use the factory method
 <A HREF="../../../../../org/mutabilitydetector/unittesting/AllowedReason.html#assumingFields(java.lang.String, java.lang.String...)"><CODE>AllowedReason.assumingFields(String, String...)</CODE></A> for greater
 readability.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="areSafelyCopiedUnmodifiableCollectionsWithImmutableElements()"><!-- --></A><H3>
areSafelyCopiedUnmodifiableCollectionsWithImmutableElements</H3>
<PRE>
public org.hamcrest.Matcher&lt;<A HREF="../../../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt; <B>areSafelyCopiedUnmodifiableCollectionsWithImmutableElements</B>()</PRE>
<DL>
<DD>Insists fields of collection types are copied and wrapped safely.
 <p>
 One way to use mutable collection types in an immutable class is to copy
 the contents and wrap in an unmodifiable collection. Mutability Detector
 has limited support for recognising this pattern, e.g.:
 <code>Collections.unmodifiableList(new ArrayList(original));</code>.
 However, the methods used for copying and wrapping must be those
 available in the JDK. If you are using your own, or third-party
 collection types, Mutability Detector will raise a warning. This allowed
 reason will permit those warnings.
 <p>
 Example usage:
 
 <pre>
 <code>
 import com.google.common.collect.Lists;
 
 &#064;Immutable
 public final class SafelyCopiesAndWraps {
   private final List&lt;String&gt; unmodifiableCopy;
   
   public SafelyCopiesAndWraps(List<String> original) {
     // use Guava method to copy 
     this.unmodifiableCopy = Collections.unmodifiableList(Lists.newArrayList(original));
   }
   
   // ... other methods
 }
 
  // a warning will be raised because copy method, Guava's Lists.newArrayList(),  is unrecognised
  assertInstancesOf(SafelyCopiesAndWraps.class, areImmutable());
  
  // use FieldAssumptions to insist the usage is safe
  assertInstancesOf(SafelyCopiesAndWraps.class, 
                    areImmutable(),
                    assumingFields("unmodifiableCopy").areSafelyCopiedUnmodifiableCollectionsWithImmutableElements());
 </code>
 </pre>
 <p>
 This case will also work when the collection is declared (with generics)
 to contain a mutable type.
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../org/mutabilitydetector/MutabilityReason.html#ABSTRACT_COLLECTION_TYPE_TO_FIELD"><CODE>MutabilityReason.ABSTRACT_COLLECTION_TYPE_TO_FIELD</CODE></A>, 
<A HREF="../../../../../org/mutabilitydetector/MutabilityReason.html#ABSTRACT_TYPE_TO_FIELD"><CODE>MutabilityReason.ABSTRACT_TYPE_TO_FIELD</CODE></A>, 
<A HREF="../../../../../org/mutabilitydetector/MutabilityReason.html#COLLECTION_FIELD_WITH_MUTABLE_ELEMENT_TYPE"><CODE>MutabilityReason.COLLECTION_FIELD_WITH_MUTABLE_ELEMENT_TYPE</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="areNotModifiedAndDoNotEscape()"><!-- --></A><H3>
areNotModifiedAndDoNotEscape</H3>
<PRE>
public org.hamcrest.Matcher&lt;<A HREF="../../../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt; <B>areNotModifiedAndDoNotEscape</B>()</PRE>
<DL>
<DD>Insists that a mutable field is used safely.
 <p>
 A requirement for immutability is
 "If the instance fields include references to mutable objects, don't allow those objects to be changed"
 [0]. This necessitates that any mutable fields are not modified (e.g. by
 calling a method which mutates it) and their reference is not published
 (where client code could invoke a mutating method). While greater care is
 needed, it is possible to create immutable objects composed of mutable
 fields.
 <p>
 Example usage:
 
 <pre>
 <code>
 import java.util.Date;
 
 &#064;Immutable
 public final class UsesMutableField {
   private final Date myDate;
   
   public UsesMutableField(Date original) {
     this.myDate = new Date(original.getTime());
   }
   
   public Date getDate() {
     // if we used 'return myDate;' we would be publishing reference
     return new Date(myDate.getTime());
   }
   
   // ... other methods, which never call myDate.setTime()
   // if we called, e.g. setTime() we would be mutating the field
 }
 
  // a warning will be raised because myDate is of a mutable type, java.util.Date
  assertInstancesOf(UsesMutableField.class, areImmutable());
  
  // use FieldAssumptions to insist the usage is safe
  assertInstancesOf(UsesMutableField.class, 
                    areImmutable(),
                    assumingFields("myDate").areNotModifiedAndDoNotEscape());
 </code>
 </pre>
 <p>
 Note: this allowed reason also assumes the defensive copy of
 <code>original</code> into <code>myDate</code>, although there is
 currently no support for automatically detecting this.
 
 <p>
 [0] <a href="http://docs.oracle.com/javase/tutorial/essential/concurrency/imstrat">
       A Strategy for Defining Immutable Objects</a>
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../org/mutabilitydetector/MutabilityReason.html#MUTABLE_TYPE_TO_FIELD"><CODE>MutabilityReason.MUTABLE_TYPE_TO_FIELD</CODE></A>, 
<A HREF="../../../../../org/mutabilitydetector/MutabilityReason.html#COLLECTION_FIELD_WITH_MUTABLE_ELEMENT_TYPE"><CODE>MutabilityReason.COLLECTION_FIELD_WITH_MUTABLE_ELEMENT_TYPE</CODE></A>, 
<A HREF="../../../../../org/mutabilitydetector/MutabilityReason.html#ARRAY_TYPE_INHERENTLY_MUTABLE"><CODE>MutabilityReason.ARRAY_TYPE_INHERENTLY_MUTABLE</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="areModifiedAsPartOfAnUnobservableCachingStrategy()"><!-- --></A><H3>
areModifiedAsPartOfAnUnobservableCachingStrategy</H3>
<PRE>
public org.hamcrest.Matcher&lt;<A HREF="../../../../../org/mutabilitydetector/MutableReasonDetail.html" title="class in org.mutabilitydetector">MutableReasonDetail</A>&gt; <B>areModifiedAsPartOfAnUnobservableCachingStrategy</B>()</PRE>
<DL>
<DD>Insists that while a field may have been mutated, changes will not be
 observable.
 <p>
 As described in the documentation for Java Concurrency In Practice's
 &#064;Immutable annotation, objects may maintain mutable state, as long
 as the mutation is internal, and cannot be observed by callers. This can
 be useful for providing caching within the object instance. A classic
 example of this is the Open JDK's implementation of
 <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><CODE>String</CODE></A>. Each instance uses the <code>hash</code> field
 to cache the result of <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang"><CODE>Object.hashCode()</CODE></A>. The hash field is computed
 lazily, and the field is reassigned (a mutation), however clients of
 <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><CODE>String</CODE></A> can not observe the mutation as it is internal.
 <p>
 While this technique is tricky, it can be very useful for performance
 reasons. Unfortunately, Mutability Detector cannot tell the difference
 between: lazily storing the result of a computation for future lookup;
 and a setter method. 
 <p>
 This allowed reason will permit mutable fields, and also reassigning field references.
 <p>
 Example usage:
 <pre>
 <code>
 import java.util.Date;
 
 &#064;Immutable
 public static final class ReassignsHashCode {
   private final String name;
   private final Integer age;
   private int hash;
     
   public ReassignsHashCode(String name, Integer age) {
     this.name = name;
     this.age = age;
   }
     
   &#064;Override
   public int hashCode() {
     if (hash == 0) {
         hash = name.hashCode() + age.hashCode();
     }
     return hash;
   }
 }
 
  // a warning will be raised because the hash field is reassigned, as with a setter method
  assertInstancesOf(ReassignsHashCode.class, areImmutable());
  
  // use FieldAssumptions to insist the usage is safe
  assertInstancesOf(ReassignsHashCode.class, 
                    areImmutable(),
                    assumingFields("hash").areModifiedAsPartOfAnUnobservableCachingStrategy());
 </code>
 </pre>
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../org/mutabilitydetector/MutabilityReason.html#MUTABLE_TYPE_TO_FIELD"><CODE>MutabilityReason.MUTABLE_TYPE_TO_FIELD</CODE></A>, 
<A HREF="../../../../../org/mutabilitydetector/MutabilityReason.html#COLLECTION_FIELD_WITH_MUTABLE_ELEMENT_TYPE"><CODE>MutabilityReason.COLLECTION_FIELD_WITH_MUTABLE_ELEMENT_TYPE</CODE></A>, 
<A HREF="../../../../../org/mutabilitydetector/MutabilityReason.html#ARRAY_TYPE_INHERENTLY_MUTABLE"><CODE>MutabilityReason.ARRAY_TYPE_INHERENTLY_MUTABLE</CODE></A>, 
<A HREF="../../../../../org/mutabilitydetector/MutabilityReason.html#FIELD_CAN_BE_REASSIGNED"><CODE>MutabilityReason.FIELD_CAN_BE_REASSIGNED</CODE></A>, 
<A HREF="../../../../../org/mutabilitydetector/MutabilityReason.html#NON_FINAL_FIELD"><CODE>MutabilityReason.NON_FINAL_FIELD</CODE></A></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/FieldAssumptions.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/mutabilitydetector/unittesting/matchers/reasons/AssumeCopiedIntoUnmodifiable.html" title="class in org.mutabilitydetector.unittesting.matchers.reasons"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/mutabilitydetector/unittesting/matchers/reasons/NoReasonsAllowed.html" title="class in org.mutabilitydetector.unittesting.matchers.reasons"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/mutabilitydetector/unittesting/matchers/reasons/FieldAssumptions.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FieldAssumptions.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2013. All Rights Reserved.
</BODY>
</HTML>
